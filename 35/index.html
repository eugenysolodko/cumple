<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>it's comming — 22·11·2025 12:00</title>
  <style>
    :root{
      --bg:#0a0b0f; --fg:#fafafa; --muted:#a2a7af; --accent:#e63946; --glass:rgba(255,255,255,.06);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; overflow:hidden; color:var(--fg);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Inter, Roboto, Arial, sans-serif;
      background: radial-gradient(1200px 800px at 70% -10%, #1b1d26 0%, #101218 45%, var(--bg) 80%);
    }

    /* Background layers */
    .grain:before{
      content:"";
      position:fixed; inset:0; pointer-events:none; opacity:.12;
      background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='120' height='120'><filter id='n'><feTurbulence type='fractalNoise' baseFrequency='1.2' numOctaves='2' stitchTiles='stitch'/></filter><rect width='100%' height='100%' filter='url(%23n)'></rect></svg>");
      mix-blend-mode:overlay;
    }

    /* Center stage */
    .stage{
      position:relative; z-index:2; height:100%; width:100%;
      display:grid; place-items:center; padding:32px;
    }
    .wrap{ text-align:center; max-width:900px; width:100%; }

    h1{
      margin:0 0 8px;
      font-weight:900; letter-spacing:.02em;
      font-size:clamp(38px, 7vw, 120px);
      line-height:1;
      text-transform:lowercase;
      filter: drop-shadow(0 10px 30px rgba(0,0,0,.55));
      position:relative;
    }
    /* subtle glitch */
    h1::before, h1::after{
      content:attr(data-text);
      position:absolute; inset:0; pointer-events:none; mix-blend-mode:screen;
      opacity:.15; filter: blur(1px);
      animation:gl 3s infinite ease-in-out alternate;
    }
    h1::before{ transform:translate(1px,0); color:#7cf; }
    h1::after{ transform:translate(-1px,0); color:#f77; animation-delay:1s; }
    @keyframes gl{
      0%{clip-path:inset(0 0 90% 0)}
      20%{clip-path:inset(60% 0 20% 0)}
      40%{clip-path:inset(20% 0 60% 0)}
      60%{clip-path:inset(70% 0 5% 0)}
      80%{clip-path:inset(10% 0 70% 0)}
      100%{clip-path:inset(0 0 90% 0)}
    }

    .tag{
      margin:0 0 26px;
      color:var(--muted); letter-spacing:.08em; text-transform:uppercase;
      font-size:12px;
    }

    .timer{
      display:inline-grid; grid-template-columns:repeat(4, minmax(100px,1fr));
      gap:14px; margin-bottom:18px;
    }
    .box{
      background:var(--glass);
      border:1px solid rgba(255,255,255,.12);
      border-radius:18px; padding:18px 16px; min-width:100px;
      backdrop-filter: blur(6px) saturate(120%);
      box-shadow: 0 10px 40px rgba(0,0,0,.35) inset, 0 10px 40px rgba(0,0,0,.25);
    }
    .num{ font-size:clamp(28px,4.8vw,54px); font-weight:800; line-height:1; }
    .lab{ font-size:12px; color:var(--muted); text-transform:uppercase; letter-spacing:.12em; }

    .strap{
      margin-top:12px; color:var(--muted); font-size:14px;
    }
    .strap strong{ color:var(--fg) }

    .cta{
      margin-top:26px; font-size:12px; color:#cfd3da; opacity:.8
    }
    .cta button{
      margin-left:8px; border:1px solid rgba(255,255,255,.2); color:var(--fg);
      background:transparent; padding:8px 12px; border-radius:999px; cursor:pointer;
    }
    .cta button:hover{ border-color:var(--fg) }

    /* Canvas particles lives under everything */
    canvas#fx{
      position:fixed; inset:0; z-index:0; opacity:.6;
      filter: blur(0.3px) contrast(110%);
    }

    /* Accent pulse under headline */
    .beam{
      position:relative; width:min(680px, 92vw); height:1px; margin:18px auto 24px;
      background:linear-gradient(90deg, transparent, rgba(230,57,70,.8), transparent);
      box-shadow:0 0 50px rgba(230,57,70,.45);
      opacity:.6;
    }

    /* Mobile tweaks */
    @media (max-width:560px){
      .timer{ grid-template-columns:repeat(2, minmax(110px,1fr)); }
    }
  </style>
</head>
<body class="grain">
  <canvas id="fx"></canvas>

  <div class="stage">
    <div class="wrap">
      <div class="tag">Barcelona — 22·11·2025 — 12:00</div>
      <h1 data-text="it's comming">it's comming</h1>
      <div class="beam"></div>

      <div class="timer" aria-live="polite">
        <div class="box"><div class="num" id="d">–</div><div class="lab">días</div></div>
        <div class="box"><div class="num" id="h">–</div><div class="lab">horas</div></div>
        <div class="box"><div class="num" id="m">–</div><div class="lab">min</div></div>
        <div class="box"><div class="num" id="s">–</div><div class="lab">seg</div></div>
      </div>

      <div class="strap">
        <em>The night will remember.</em> — <strong>You don’t know what’s coming.</strong>
      </div>

      <div class="cta">
        Sonido ambiente: <button id="soundBtn">activar</button>
      </div>
    </div>
  </div>

  <script>
    // -------- Countdown (CET: UTC+1 in Nov 2025) --------
    const target = new Date("2025-11-22T12:00:00+01:00").getTime();
    const el = { d:document.getElementById("d"), h:document.getElementById("h"), m:document.getElementById("m"), s:document.getElementById("s") };
    function tick(){
      let diff = target - Date.now();
      if(diff <= 0){ el.d.textContent=el.h.textContent=el.m.textContent=el.s.textContent="00"; return; }
      const d = Math.floor(diff/864e5); diff -= d*864e5;
      const h = Math.floor(diff/36e5);  diff -= h*36e5;
      const m = Math.floor(diff/6e4);   diff -= m*6e4;
      const s = Math.floor(diff/1e3);
      el.d.textContent = d;
      el.h.textContent = String(h).padStart(2,"0");
      el.m.textContent = String(m).padStart(2,"0");
      el.s.textContent = String(s).padStart(2,"0");
    }
    tick(); setInterval(tick, 1000);

    // -------- Subtle particle field (no libs) --------
    const cvs = document.getElementById('fx'), ctx = cvs.getContext('2d');
    let W,H, P=[];
    function resize(){ W = cvs.width = innerWidth; H = cvs.height = innerHeight; }
    addEventListener('resize', resize); resize();
    function spawn(n=80){
      P = Array.from({length:n}, ()=>({
        x:Math.random()*W, y:Math.random()*H,
        vx:(Math.random()-.5)*.25, vy:(Math.random()-.5)*.25,
        r: Math.random()*1.6 + .2, a: Math.random()*.6 + .2
      }));
    }
    spawn(120);
    function loop(){
      ctx.fillStyle='rgba(7,8,12,.35)'; ctx.fillRect(0,0,W,H);
      for(const p of P){
        p.x+=p.vx; p.y+=p.vy;
        if(p.x<0||p.x>W) p.vx*=-1;
        if(p.y<0||p.y>H) p.vy*=-1;
        ctx.beginPath();
        ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
        ctx.fillStyle=`rgba(200,210,230,${p.a})`;
        ctx.fill();
      }
      requestAnimationFrame(loop);
    }
    loop();

    // -------- Ambient sound (WebAudio, click-to-start) --------
    let audioStarted=false, ac, g, o1, o2;
    function startAudio(){
      if(audioStarted) return;
      audioStarted=true;
      ac = new (window.AudioContext||window.webkitAudioContext)();
      g = ac.createGain(); g.gain.value=0.0001; g.connect(ac.destination);

      // Low pulse + airy noise
      // Osc 1: sub bass pulse
      o1 = ac.createOscillator(); o1.type='sine'; o1.frequency.value=44;
      const lfo = ac.createOscillator(); lfo.type='sine'; lfo.frequency.value=0.7;
      const lfoGain = ac.createGain(); lfoGain.gain.value=0.06;
      lfo.connect(lfoGain).connect(g.gain);
      o1.connect(g); o1.start(); lfo.start();

      // Osc 2: whispery noise via detuned triangle
      o2 = ac.createOscillator(); o2.type='triangle'; o2.frequency.value=220;
      const f2 = ac.createBiquadFilter(); f2.type='lowpass'; f2.frequency.value=600;
      const g2 = ac.createGain(); g2.gain.value=0.02;
      o2.connect(f2).connect(g2).connect(g); o2.start();

      // Fade in
      g.gain.exponentialRampToValueAtTime(0.02, ac.currentTime+3);
      document.getElementById('soundBtn').textContent='activo';
    }
    document.getElementById('soundBtn').addEventListener('click', startAudio);
    // Also allow any click/tap to start
    addEventListener('click', startAudio, { once:true });
  </script>
</body>
</html>
